import { S as SvelteComponentDev, i as init, s as safe_not_equal, d as dispatch_dev, a as validate_slots, w as onMount, e as element, t as text, b as space, c as claim_element, f as children, j as claim_text, h as detach_dev, g as claim_space, k as attr_dev, l as add_location, n as insert_dev, o as append_dev, x as set_input_value, p as listen_dev, r as noop, y as run_all } from './client.194ab07c.js';
import { r as removeTodo, e as editTodo, g as getSingleItem } from './todo.service.c68207ea.js';
import './env.8f6a26c3.js';

/* src\routes\item\[id].svelte generated by Svelte v3.31.2 */
const file = "src\\routes\\item\\[id].svelte";

function create_fragment(ctx) {
	let div4;
	let div3;
	let h1;
	let a;
	let t0;
	let t1;
	let div2;
	let div0;
	let p0;
	let t2;
	let t3;
	let hr;
	let t4;
	let p1;
	let t5;
	let p2;
	let t6;
	let p3;
	let t7;
	let input;
	let t8;
	let div1;
	let button0;
	let t9;
	let t10;
	let button1;
	let t11;
	let t12;
	let button2;
	let t13;
	let mounted;
	let dispose;

	const block = {
		c: function create() {
			div4 = element("div");
			div3 = element("div");
			h1 = element("h1");
			a = element("a");
			t0 = text("Return To List");
			t1 = space();
			div2 = element("div");
			div0 = element("div");
			p0 = element("p");
			t2 = text("Task Editor");
			t3 = space();
			hr = element("hr");
			t4 = space();
			p1 = element("p");
			t5 = space();
			p2 = element("p");
			t6 = space();
			p3 = element("p");
			t7 = space();
			input = element("input");
			t8 = space();
			div1 = element("div");
			button0 = element("button");
			t9 = text("Cancel");
			t10 = space();
			button1 = element("button");
			t11 = text("Save");
			t12 = space();
			button2 = element("button");
			t13 = text("Delete");
			this.h();
		},
		l: function claim(nodes) {
			div4 = claim_element(nodes, "DIV", { class: true });
			var div4_nodes = children(div4);
			div3 = claim_element(div4_nodes, "DIV", { class: true });
			var div3_nodes = children(div3);
			h1 = claim_element(div3_nodes, "H1", { class: true });
			var h1_nodes = children(h1);
			a = claim_element(h1_nodes, "A", { class: true, href: true });
			var a_nodes = children(a);
			t0 = claim_text(a_nodes, "Return To List");
			a_nodes.forEach(detach_dev);
			h1_nodes.forEach(detach_dev);
			t1 = claim_space(div3_nodes);
			div2 = claim_element(div3_nodes, "DIV", { class: true });
			var div2_nodes = children(div2);
			div0 = claim_element(div2_nodes, "DIV", { class: true });
			var div0_nodes = children(div0);
			p0 = claim_element(div0_nodes, "P", { class: true });
			var p0_nodes = children(p0);
			t2 = claim_text(p0_nodes, "Task Editor");
			p0_nodes.forEach(detach_dev);
			t3 = claim_space(div0_nodes);
			hr = claim_element(div0_nodes, "HR", {});
			t4 = claim_space(div0_nodes);
			p1 = claim_element(div0_nodes, "P", { id: true, class: true });
			children(p1).forEach(detach_dev);
			t5 = claim_space(div0_nodes);
			p2 = claim_element(div0_nodes, "P", { id: true, class: true });
			children(p2).forEach(detach_dev);
			t6 = claim_space(div0_nodes);
			p3 = claim_element(div0_nodes, "P", { id: true, class: true });
			children(p3).forEach(detach_dev);
			t7 = claim_space(div0_nodes);
			input = claim_element(div0_nodes, "INPUT", { class: true, id: true, type: true });
			div0_nodes.forEach(detach_dev);
			t8 = claim_space(div2_nodes);
			div1 = claim_element(div2_nodes, "DIV", { class: true });
			var div1_nodes = children(div1);
			button0 = claim_element(div1_nodes, "BUTTON", { class: true });
			var button0_nodes = children(button0);
			t9 = claim_text(button0_nodes, "Cancel");
			button0_nodes.forEach(detach_dev);
			t10 = claim_space(div1_nodes);
			button1 = claim_element(div1_nodes, "BUTTON", { class: true, id: true });
			var button1_nodes = children(button1);
			t11 = claim_text(button1_nodes, "Save");
			button1_nodes.forEach(detach_dev);
			t12 = claim_space(div1_nodes);
			button2 = claim_element(div1_nodes, "BUTTON", { class: true });
			var button2_nodes = children(button2);
			t13 = claim_text(button2_nodes, "Delete");
			button2_nodes.forEach(detach_dev);
			div1_nodes.forEach(detach_dev);
			div2_nodes.forEach(detach_dev);
			div3_nodes.forEach(detach_dev);
			div4_nodes.forEach(detach_dev);
			this.h();
		},
		h: function hydrate() {
			attr_dev(a, "class", "returnToList svelte-6ot3ap");
			attr_dev(a, "href", "/list");
			add_location(a, file, 198, 26, 5098);
			attr_dev(h1, "class", "title svelte-6ot3ap");
			add_location(h1, file, 198, 8, 5080);
			attr_dev(p0, "class", "editorTitle svelte-6ot3ap");
			add_location(p0, file, 201, 16, 5268);
			add_location(hr, file, 202, 16, 5324);
			attr_dev(p1, "id", "item-createdAt");
			attr_dev(p1, "class", "svelte-6ot3ap");
			add_location(p1, file, 203, 16, 5346);
			attr_dev(p2, "id", "item-updatedAt");
			attr_dev(p2, "class", "svelte-6ot3ap");
			add_location(p2, file, 204, 16, 5391);
			attr_dev(p3, "id", "item-status");
			attr_dev(p3, "class", "svelte-6ot3ap");
			add_location(p3, file, 205, 16, 5436);
			attr_dev(input, "class", "editInput svelte-6ot3ap");
			attr_dev(input, "id", "editorText");
			attr_dev(input, "type", "text");
			add_location(input, file, 206, 16, 5529);
			attr_dev(div0, "class", "info svelte-6ot3ap");
			add_location(div0, file, 200, 14, 5232);
			attr_dev(button0, "class", "cancelEdit btn btn-dark svelte-6ot3ap");
			add_location(button0, file, 210, 16, 5691);
			attr_dev(button1, "class", "saveButton btn btn-dark svelte-6ot3ap");
			attr_dev(button1, "id", "saveChanges");
			add_location(button1, file, 211, 16, 5786);
			attr_dev(button2, "class", "deleteButton btn btn-danger svelte-6ot3ap");
			add_location(button2, file, 212, 16, 5913);
			attr_dev(div1, "class", "editingButtons svelte-6ot3ap");
			add_location(div1, file, 209, 14, 5645);
			attr_dev(div2, "class", "editArea svelte-6ot3ap");
			add_location(div2, file, 199, 12, 5194);
			attr_dev(div3, "class", "list-content svelte-6ot3ap");
			add_location(div3, file, 197, 4, 5044);
			attr_dev(div4, "class", "list-container svelte-6ot3ap");
			add_location(div4, file, 196, 0, 5010);
		},
		m: function mount(target, anchor) {
			insert_dev(target, div4, anchor);
			append_dev(div4, div3);
			append_dev(div3, h1);
			append_dev(h1, a);
			append_dev(a, t0);
			append_dev(div3, t1);
			append_dev(div3, div2);
			append_dev(div2, div0);
			append_dev(div0, p0);
			append_dev(p0, t2);
			append_dev(div0, t3);
			append_dev(div0, hr);
			append_dev(div0, t4);
			append_dev(div0, p1);
			append_dev(div0, t5);
			append_dev(div0, p2);
			append_dev(div0, t6);
			append_dev(div0, p3);
			append_dev(div0, t7);
			append_dev(div0, input);
			set_input_value(input, /*itemValue*/ ctx[0]);
			append_dev(div2, t8);
			append_dev(div2, div1);
			append_dev(div1, button0);
			append_dev(button0, t9);
			append_dev(div1, t10);
			append_dev(div1, button1);
			append_dev(button1, t11);
			append_dev(div1, t12);
			append_dev(div1, button2);
			append_dev(button2, t13);

			if (!mounted) {
				dispose = [
					listen_dev(a, "click", cancelEdit, false, false, false),
					listen_dev(p3, "click", /*click_handler*/ ctx[6], false, false, false),
					listen_dev(input, "input", /*input_input_handler*/ ctx[7]),
					listen_dev(button0, "click", cancelEdit, false, false, false),
					listen_dev(button1, "click", /*click_handler_1*/ ctx[8], false, false, false),
					listen_dev(button2, "click", /*click_handler_2*/ ctx[9], false, false, false)
				];

				mounted = true;
			}
		},
		p: function update(ctx, [dirty]) {
			if (dirty & /*itemValue*/ 1 && input.value !== /*itemValue*/ ctx[0]) {
				set_input_value(input, /*itemValue*/ ctx[0]);
			}
		},
		i: noop,
		o: noop,
		d: function destroy(detaching) {
			if (detaching) detach_dev(div4);
			mounted = false;
			run_all(dispose);
		}
	};

	dispatch_dev("SvelteRegisterBlock", {
		block,
		id: create_fragment.name,
		type: "component",
		source: "",
		ctx
	});

	return block;
}

function cancelEdit() {
	window.location.href = "/list";
}

function preload(params) {
	const path = params.pathname;
	const id = path.slice(6);
	return id;
}

function enter() {
	document.getElementById("editorText").addEventListener("keyup", function (event) {
		if (event.keyCode === 13) {
			event.preventDefault();
			document.getElementById("saveChanges").click();
		}
	});
}

function instance($$self, $$props, $$invalidate) {
	let { $$slots: slots = {}, $$scope } = $$props;
	validate_slots("U5Bidu5D", slots, []);
	let originalValue = "";
	let itemValue = "";
	let editorItemId = "";
	let itemStatus = "";

	onMount(async () => {
		getItem();
		enter();
	});

	function getItem() {
		let itemId = preload(window.location);

		getSingleItem(itemId).then(function (item) {
			if (item == undefined) {
				swal("Error", "Please Select a Task", "error").then(function () {
					window.location.href = "/list";
				});
			} else {
				$$invalidate(1, editorItemId = item._id);
				originalValue = item.name;
				$$invalidate(0, itemValue = item.name);
				itemStatus = item.status;
				let createdData = new Date(item.createdAt);
				let updatedData = new Date(item.updatedAt);

				let createdTime = createdData.toLocaleString("en-US", {
					month: "long",
					weekday: "long",
					day: "numeric",
					hour: "numeric",
					minute: "numeric",
					second: "numeric",
					year: "numeric",
					hour12: true
				});

				let updatedTime = updatedData.toLocaleString("en-US", {
					month: "long",
					weekday: "long",
					day: "numeric",
					hour: "numeric",
					minute: "numeric",
					second: "numeric",
					year: "numeric",
					hour12: true
				});

				document.getElementById("item-createdAt").innerHTML = "Created: " + createdTime;
				document.getElementById("item-updatedAt").innerHTML = "Updated: " + updatedTime;

				if (itemStatus == false || itemStatus == null) {
					document.getElementById("item-status").innerHTML = "Status: Incomplete";
				} else {
					document.getElementById("item-status").innerHTML = "Status: Completed";
				}
			}
		});
	}

	function removeFromList(id) {
		if (!id || id === "") {
			swal("Error", "Please enter a task", "error");
		} else {
			swal({
				title: "Are you sure?",
				text: "This Action Is Not Reversible",
				icon: "warning",
				buttons: true,
				dangerMode: true
			}).then(willDelete => {
				if (willDelete) {
					swal("Poof! Successfully Deleted Task", { icon: "success" }).then(removeTodo(id)).then(() => window.location.href = "/list");
				} else {
					swal("Task was not Deleted!", { icon: "error" });
				}
			});
		}

		
	}

	function editList(id) {
		if (!id || id === "") {
			swal("Error", "The edit field cannot be empty", "error");
		} else if (!itemValue || itemValue == "") {
			swal("Error", "The edit field cannot be empty", "error");
		} else if (itemValue == originalValue) {
			swal("Error", "No Changes Were Made", "error");
		} else {
			editTodo(id, itemValue).then(swal("Success", "Successfully Edited Task", "success").then(function () {
				window.location.href = "/list";
			}));
		}
	}

	function editStatus(id, name) {
		if (itemStatus == true) {
			itemStatus = false;
			document.getElementById("item-status").innerHTML = "Status: Incomplete";

			swal({
				title: "Item Status Changed To Incomplete",
				timer: 600,
				button: false
			});
		} else if (itemStatus == false || itemStatus == null) {
			itemStatus = true;
			document.getElementById("item-status").innerHTML = "Status: Complete";

			swal({
				title: "Item Status Changed To Completed",
				timer: 600,
				button: false
			});
		}

		editTodo(id, name, itemStatus);
	}

	const writable_props = [];

	Object.keys($$props).forEach(key => {
		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$") console.warn(`<U5Bidu5D> was created with unknown prop '${key}'`);
	});

	const click_handler = () => editStatus(editorItemId, itemValue);

	function input_input_handler() {
		itemValue = this.value;
		$$invalidate(0, itemValue);
	}

	const click_handler_1 = () => editList(editorItemId);
	const click_handler_2 = () => removeFromList(editorItemId);

	$$self.$capture_state = () => ({
		onMount,
		removeTodo,
		editTodo,
		getSingleItem,
		originalValue,
		itemValue,
		editorItemId,
		itemStatus,
		getItem,
		cancelEdit,
		preload,
		removeFromList,
		editList,
		editStatus,
		enter
	});

	$$self.$inject_state = $$props => {
		if ("originalValue" in $$props) originalValue = $$props.originalValue;
		if ("itemValue" in $$props) $$invalidate(0, itemValue = $$props.itemValue);
		if ("editorItemId" in $$props) $$invalidate(1, editorItemId = $$props.editorItemId);
		if ("itemStatus" in $$props) itemStatus = $$props.itemStatus;
	};

	if ($$props && "$$inject" in $$props) {
		$$self.$inject_state($$props.$$inject);
	}

	return [
		itemValue,
		editorItemId,
		removeFromList,
		editList,
		editStatus,
		preload,
		click_handler,
		input_input_handler,
		click_handler_1,
		click_handler_2
	];
}

class U5Bidu5D extends SvelteComponentDev {
	constructor(options) {
		super(options);
		init(this, options, instance, create_fragment, safe_not_equal, { preload: 5 });

		dispatch_dev("SvelteRegisterComponent", {
			component: this,
			tagName: "U5Bidu5D",
			options,
			id: create_fragment.name
		});
	}

	get preload() {
		return preload;
	}

	set preload(value) {
		throw new Error("<U5Bidu5D>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}
}

export default U5Bidu5D;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiW2lkXS4xZDRhOGUzMS5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3JvdXRlcy9pdGVtL1tpZF0uc3ZlbHRlIl0sInNvdXJjZXNDb250ZW50IjpbIjxzY3JpcHQ+XHJcbmltcG9ydCB7IG9uTW91bnQgfSBmcm9tIFwic3ZlbHRlXCI7XHJcbmltcG9ydCB7IHJlbW92ZVRvZG8sIGVkaXRUb2RvLCBnZXRTaW5nbGVJdGVtIH0gZnJvbSBcIi4uLy4uL3NlcnZpY2VzL3RvZG8uc2VydmljZVwiO1xyXG5cclxubGV0IG9yaWdpbmFsVmFsdWUgPSBcIlwiO1xyXG5sZXQgaXRlbVZhbHVlID0gXCJcIjtcclxubGV0IGVkaXRvckl0ZW1JZCA9IFwiXCI7XHJcbmxldCBpdGVtU3RhdHVzID0gXCJcIjtcclxuXHJcbm9uTW91bnQoYXN5bmMgKCkgPT4ge1xyXG4gIGdldEl0ZW0oKTtcclxuICBlbnRlcigpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGdldEl0ZW0oKXtcclxuICBsZXQgaXRlbUlkID0gcHJlbG9hZCh3aW5kb3cubG9jYXRpb24pXHJcbiAgbGV0IGl0ZW1EYXRhID0gZ2V0U2luZ2xlSXRlbShpdGVtSWQpXHJcbiAgLnRoZW4oZnVuY3Rpb24oaXRlbSkge1xyXG4gIGlmKGl0ZW0gPT0gdW5kZWZpbmVkKXtcclxuICAgIHN3YWwoJ0Vycm9yJywgJ1BsZWFzZSBTZWxlY3QgYSBUYXNrJywgJ2Vycm9yJylcclxuICAgIC50aGVuKGZ1bmN0aW9uKCl7d2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9saXN0XCJ9KVxyXG4gIH1cclxuICBlbHNle1xyXG4gICAgICBlZGl0b3JJdGVtSWQgPSBpdGVtLl9pZFxyXG4gICAgICBvcmlnaW5hbFZhbHVlID0gaXRlbS5uYW1lXHJcbiAgICAgIGl0ZW1WYWx1ZSA9IGl0ZW0ubmFtZVxyXG4gICAgICBpdGVtU3RhdHVzID0gaXRlbS5zdGF0dXNcclxuICAgICAgbGV0IGNyZWF0ZWREYXRhID0gbmV3IERhdGUoaXRlbS5jcmVhdGVkQXQpXHJcbiAgICAgIGxldCB1cGRhdGVkRGF0YSA9IG5ldyBEYXRlKGl0ZW0udXBkYXRlZEF0KVxyXG4gICAgICBsZXQgY3JlYXRlZFRpbWUgPSBjcmVhdGVkRGF0YS50b0xvY2FsZVN0cmluZygnZW4tVVMnLCB7IG1vbnRoOiAnbG9uZycsIHdlZWtkYXk6ICdsb25nJywgZGF5OiAnbnVtZXJpYycsIGhvdXI6ICdudW1lcmljJywgbWludXRlOiAnbnVtZXJpYycsIHNlY29uZDogJ251bWVyaWMnLCB5ZWFyOiBcIm51bWVyaWNcIiwgaG91cjEyOiB0cnVlIH0pXHJcbiAgICAgIGxldCB1cGRhdGVkVGltZSA9IHVwZGF0ZWREYXRhLnRvTG9jYWxlU3RyaW5nKCdlbi1VUycsIHsgbW9udGg6ICdsb25nJywgd2Vla2RheTogJ2xvbmcnLCBkYXk6ICdudW1lcmljJywgaG91cjogJ251bWVyaWMnLCBtaW51dGU6ICdudW1lcmljJywgc2Vjb25kOiAnbnVtZXJpYycsIHllYXI6IFwibnVtZXJpY1wiLCBob3VyMTI6IHRydWUgfSlcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpdGVtLWNyZWF0ZWRBdFwiKS5pbm5lckhUTUw9IFwiQ3JlYXRlZDogXCIgKyBjcmVhdGVkVGltZVxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIml0ZW0tdXBkYXRlZEF0XCIpLmlubmVySFRNTD0gXCJVcGRhdGVkOiBcIiArIHVwZGF0ZWRUaW1lXHJcbiAgICAgIGlmKGl0ZW1TdGF0dXMgPT0gZmFsc2UgfHwgaXRlbVN0YXR1cyA9PSBudWxsKXtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIml0ZW0tc3RhdHVzXCIpLmlubmVySFRNTD0gXCJTdGF0dXM6IEluY29tcGxldGVcIlxyXG4gICAgICB9ZWxzZXtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIml0ZW0tc3RhdHVzXCIpLmlubmVySFRNTD0gXCJTdGF0dXM6IENvbXBsZXRlZFwiXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBjYW5jZWxFZGl0KCl7XHJcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL2xpc3RcIlxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBwcmVsb2FkKHBhcmFtcykge1xyXG5cdGNvbnN0IHBhdGggPSBwYXJhbXMucGF0aG5hbWVcclxuICBjb25zdCBpZCA9IHBhdGguc2xpY2UoNilcclxuXHRyZXR1cm4gaWRcclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlRnJvbUxpc3QoaWQpIHtcclxuICBpZiAoIWlkIHx8IGlkID09PSBcIlwiKSB7XHJcbiAgICBzd2FsKFwiRXJyb3JcIiwgXCJQbGVhc2UgZW50ZXIgYSB0YXNrXCIsIFwiZXJyb3JcIik7XHJcbiAgfSBcclxuICBlbHNle3N3YWwoe1xyXG4gIHRpdGxlOiBcIkFyZSB5b3Ugc3VyZT9cIixcclxuICB0ZXh0OiBcIlRoaXMgQWN0aW9uIElzIE5vdCBSZXZlcnNpYmxlXCIsXHJcbiAgaWNvbjogXCJ3YXJuaW5nXCIsXHJcbiAgYnV0dG9uczogdHJ1ZSxcclxuICBkYW5nZXJNb2RlOiB0cnVlLFxyXG59KVxyXG4udGhlbigod2lsbERlbGV0ZSkgPT4ge1xyXG4gIGlmICh3aWxsRGVsZXRlKSB7XHJcbiAgICBzd2FsKFwiUG9vZiEgU3VjY2Vzc2Z1bGx5IERlbGV0ZWQgVGFza1wiLCB7XHJcbiAgICAgIGljb246IFwic3VjY2Vzc1wiXHJcbiAgICB9KS50aGVuKHJlbW92ZVRvZG8oaWQpKS50aGVuKCgpPT4gd2luZG93LmxvY2F0aW9uLmhyZWY9XCIvbGlzdFwiKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBzd2FsKFwiVGFzayB3YXMgbm90IERlbGV0ZWQhXCIse2ljb246IFwiZXJyb3JcIn0pO1xyXG4gIH1cclxufSl9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBlZGl0TGlzdChpZCkge1xyXG4gIGlmICghaWQgfHwgaWQgPT09IFwiXCIpIHtcclxuICAgIHN3YWwoXCJFcnJvclwiLCBcIlRoZSBlZGl0IGZpZWxkIGNhbm5vdCBiZSBlbXB0eVwiLCBcImVycm9yXCIpO1xyXG4gIH0gZWxzZSBpZiAoIWl0ZW1WYWx1ZSB8fCBpdGVtVmFsdWUgPT0gXCJcIikge1xyXG4gICAgc3dhbChcIkVycm9yXCIsIFwiVGhlIGVkaXQgZmllbGQgY2Fubm90IGJlIGVtcHR5XCIsIFwiZXJyb3JcIik7XHJcbiAgfSBlbHNlIGlmIChpdGVtVmFsdWUgPT0gb3JpZ2luYWxWYWx1ZSl7XHJcbiAgICBzd2FsKFwiRXJyb3JcIiwgXCJObyBDaGFuZ2VzIFdlcmUgTWFkZVwiLCBcImVycm9yXCIpO1xyXG4gIH1lbHNlIHtcclxuICAgIGVkaXRUb2RvKGlkLCBpdGVtVmFsdWUpLnRoZW4oXHJcbiAgICAgICAgc3dhbChcIlN1Y2Nlc3NcIiwgXCJTdWNjZXNzZnVsbHkgRWRpdGVkIFRhc2tcIiwgXCJzdWNjZXNzXCIpXHJcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oKXt3aW5kb3cubG9jYXRpb24uaHJlZj1cIi9saXN0XCJ9KVxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZWRpdFN0YXR1cyhpZCwgbmFtZSkge1xyXG4gIGlmKGl0ZW1TdGF0dXMgPT0gdHJ1ZSl7XHJcbiAgICBpdGVtU3RhdHVzID0gZmFsc2VcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaXRlbS1zdGF0dXNcIikuaW5uZXJIVE1MPSBcIlN0YXR1czogSW5jb21wbGV0ZVwiXHJcbiAgICBzd2FsKHt0aXRsZTogXCJJdGVtIFN0YXR1cyBDaGFuZ2VkIFRvIEluY29tcGxldGVcIiwgdGltZXI6IDYwMCwgYnV0dG9uOiBmYWxzZX0pXHJcbiAgfWVsc2UgaWYoaXRlbVN0YXR1cyA9PSBmYWxzZSB8fCBpdGVtU3RhdHVzID09IG51bGwpe1xyXG4gICAgaXRlbVN0YXR1cyA9IHRydWVcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaXRlbS1zdGF0dXNcIikuaW5uZXJIVE1MPSBcIlN0YXR1czogQ29tcGxldGVcIlxyXG4gICAgc3dhbCh7dGl0bGU6IFwiSXRlbSBTdGF0dXMgQ2hhbmdlZCBUbyBDb21wbGV0ZWRcIiwgdGltZXI6IDYwMCwgYnV0dG9uOiBmYWxzZX0pXHJcbiAgfVxyXG4gIGVkaXRUb2RvKGlkLCBuYW1lLCBpdGVtU3RhdHVzKVxyXG59XHJcblxyXG5mdW5jdGlvbiBlbnRlcigpe1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0b3JUZXh0XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0aWYgKGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XHJcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzYXZlQ2hhbmdlc1wiKS5jbGljaygpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59XHJcblxyXG48L3NjcmlwdD5cclxuXHJcbjxzdHlsZT5cclxuICBAaW1wb3J0IHVybCgnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1Nb250c2VycmF0Oml0YWwsd2dodEAxLDUwMCZkaXNwbGF5PXN3YXAnKTtcclxuXHJcbi5saXN0LWNvbnRhaW5lciB7XHJcblx0aGVpZ2h0OiAxNTB2aDtcclxuXHR3aWR0aDogMTAwdnc7XHJcblx0YmFja2dyb3VuZC1jb2xvcjogcmdiKDIyNywgMjMzLCAyNTUpO1xyXG5cdHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLmxpc3QtY29udGVudCB7XHJcblx0cGFkZGluZy10b3A6IDh2dztcclxuXHRtYXJnaW4tcmlnaHQ6IGNhbGMoLTdlbSArIDQwdncpO1xyXG5cdG1hcmdpbi1sZWZ0OiBjYWxjKC04LjVlbSArIDQwdncpO1xyXG59XHJcblxyXG4udGl0bGV7XHJcblx0YmFja2dyb3VuZC1jb2xvcjogcmdiKDE3NSwgMTI2LCAyMzUpO1xyXG5cdGNvbG9yOiB3aGl0ZTtcclxuXHRwYWRkaW5nOiAwLjVlbTtcclxuXHRib3gtc2hhZG93OiAwcHggMHB4IDE1cHggZ3JheTtcclxufVxyXG5cclxuLnJldHVyblRvTGlzdCB7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG5cdGZvbnQtc2l6ZTogY2FsYygwLjVlbSArIDAuOHZ3KTtcclxuXHR0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcclxuXHR0ZXh0LXNoYWRvdzogMnB4IDJweCA4cHggd2hpdGU7XHJcbn1cclxuXHJcbi5lZGl0QXJlYXtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICBib3gtc2hhZG93OiAwcHggMHB4IDE1cHggZ3JheTtcclxuICBtYXJnaW4tdG9wOiAyZW07XHJcbiAgcGFkZGluZzogMHB4IDEwcHggMTBweCAxMHB4O1xyXG59XHJcblxyXG4uc2F2ZUJ1dHRvbntcclxuXHRiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTc1LCAxMjYsIDIzNSk7XHJcblx0Y29sb3I6IHdoaXRlO1xyXG59XHJcblxyXG4uZGVsZXRlQnV0dG9uLCAuZWRpdG9yVGl0bGUsIC5zYXZlQnV0dG9uLCAucmV0dXJuVG9MaXN0LCBwLCAuZWRpdGluZ0J1dHRvbnN7XHJcbiAgZm9udC1mYW1pbHk6ICdNb250c2VycmF0Jywgc2Fucy1zZXJpZjtcclxufVxyXG5cclxuLnNhdmVCdXR0b246aG92ZXIsIC5kZWxldGVCdXR0b246aG92ZXIsIC5jYW5jZWxFZGl0OmhvdmVyIHtcclxuXHRiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuXHRjb2xvcjogYmxhY2s7XHJcbn1cclxuXHJcbi5pbmZve1xyXG4gIG1hcmdpbi10b3A6IDJlbTtcclxufVxyXG5cclxuLmVkaXRvclRpdGxle1xyXG4gIGZvbnQtc2l6ZTogMS4yZW07XHJcbiAgcGFkZGluZy10b3A6IDFlbTtcclxufVxyXG5cclxuLmVkaXRpbmdCdXR0b25ze1xyXG4gIHBhZGRpbmctdG9wOiAxZW07XHJcbn1cclxuXHJcbiNpdGVtLXN0YXR1c3tcclxuICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcclxufVxyXG4jaXRlbS1zdGF0dXM6aG92ZXJ7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4uZWRpdElucHV0e1xyXG4gbWFyZ2luLWxlZnQ6IC0xZW07XHJcbiBwYWRkaW5nLXJpZ2h0OiAxZW07XHJcbn1cclxuXHJcbkBtZWRpYSAobWF4LXdpZHRoOiAzMzBweCkge1xyXG5cdC5saXN0LWNvbnRhaW5lcntcclxuXHRcdHBhZGRpbmctbGVmdDogMjJweDtcclxuXHR9XHJcbn1cclxuXHJcbjwvc3R5bGU+XHJcblxyXG48ZGl2IGNsYXNzPVwibGlzdC1jb250YWluZXJcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJsaXN0LWNvbnRlbnRcIj5cclxuICAgICAgICA8aDEgY2xhc3M9XCJ0aXRsZVwiPjxhIGNsYXNzPVwicmV0dXJuVG9MaXN0XCIgb246Y2xpY2s9e2NhbmNlbEVkaXR9IGhyZWY9XCIvbGlzdFwiPlJldHVybiBUbyBMaXN0PC9hPjwvaDE+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlZGl0QXJlYVwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbmZvXCI+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImVkaXRvclRpdGxlXCI+VGFzayBFZGl0b3I8L3A+XHJcbiAgICAgICAgICAgICAgICA8aHI+XHJcbiAgICAgICAgICAgICAgICA8cCBpZD1cIml0ZW0tY3JlYXRlZEF0XCI+PC9wPlxyXG4gICAgICAgICAgICAgICAgPHAgaWQ9XCJpdGVtLXVwZGF0ZWRBdFwiPjwvcD5cclxuICAgICAgICAgICAgICAgIDxwIGlkPVwiaXRlbS1zdGF0dXNcIiBvbjpjbGljaz17KCk9PmVkaXRTdGF0dXMoZWRpdG9ySXRlbUlkLCBpdGVtVmFsdWUpfT48L3A+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJlZGl0SW5wdXRcIiBpZD1cImVkaXRvclRleHRcIiBiaW5kOnZhbHVlPXtpdGVtVmFsdWV9IHR5cGU9XCJ0ZXh0XCI+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlZGl0aW5nQnV0dG9uc1wiPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNhbmNlbEVkaXQgYnRuIGJ0bi1kYXJrXCIgb246Y2xpY2s9e2NhbmNlbEVkaXR9PkNhbmNlbDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNhdmVCdXR0b24gYnRuIGJ0bi1kYXJrXCIgaWQ9XCJzYXZlQ2hhbmdlc1wiIG9uOmNsaWNrPXsoKT0+IGVkaXRMaXN0KGVkaXRvckl0ZW1JZCl9PlNhdmU8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJkZWxldGVCdXR0b24gYnRuIGJ0bi1kYW5nZXJcIiBvbjpjbGljaz17KCk9PiByZW1vdmVGcm9tTGlzdChlZGl0b3JJdGVtSWQpfT5EZWxldGU8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbjwvZGl2PlxyXG5cclxuXHJcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozt3Q0E4TXFFLEdBQVM7Ozs7Ozs7Ozs7Ozs7OzRCQVJsQixVQUFVOzs7a0NBWUosVUFBVTs7Ozs7Ozs7O2dFQUpQLEdBQVM7eUNBQVQsR0FBUzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7U0FwS3JFLFVBQVU7Q0FDZixNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksR0FBRyxPQUFPOzs7U0FFbEIsT0FBTyxD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
