{"version":3,"sources":["config/env.ts","services/todo.service.ts","services/users.service.ts","components/Editor.tsx","components/ListItem.tsx","components/List.tsx","components/UserInputs.tsx","components/UserRegistration.tsx","components/App.tsx","index.tsx"],"names":["env","location","hostname","storedToken","accessToken","localStorage","getItem","refreshToken","headers","Headers","concat","getList","fetch","method","then","res","json","data","catch","swal","window","href","error","async","editTask","id","task","status","body","JSON","stringify","loginUser","email","password","console","log","message","setItem","logOutUser","Editor","props","displayItemStatus","updateStatusDisplay","useState","taskEdit","setTaskEdit","createdAt","Date","toLocaleString","month","weekday","day","hour","minute","second","year","hour12","updatedAt","handleClick","event","target","className","itemId","handleClose","result","setData","confirmEdit","useEffect","itemStatus","_jsx","Modal","show","modalShow","onHide","backdrop","keyboard","children","_jsxs","value","onChange","onKeyDown","enter","type","onClick","ListItem","setShow","checked","editTaskStatus","deleteBtnClick","handleShow","style","textDecoration","color","List","listData","inputValue","setValue","userEmail","createTaskItem","deleteTaskItem","deleteTask","keyCode","document","getElementsByClassName","click","editData","i","length","currentListData","_id","getListData","setInterval","refreshAccessTokens","map","placeholder","UserInputs","history","useHistory","fieldInput","setCredentials","validateEmail","test","String","toLowerCase","handleChange","prevValue","greeting","pathname","title","text","icon","timer","buttons","userCredentials","accountStatus","redirectLink","redirect","UserRegistration","App","Router","Route","path","component","exact","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.72d23dc7.chunk.js","sourcesContent":["/* eslint-disable no-restricted-globals */\r\nexport function env() {\r\n    if(location.hostname === \"localhost\"){ \r\n        return \"http://localhost:4000\"\r\n    }else{\r\n        return \"https://rafikis-to-do-list.onrender.com\"\r\n    }\r\n}","import swal from \"sweetalert\";\r\nimport { env } from \"../config/env\";\r\n\r\nconst storedToken = {\r\n    accessToken: localStorage.getItem(\"accessToken\"),\r\n    refreshToken: localStorage.getItem(\"refreshToken\")\r\n}\r\n\r\nconst headers = new Headers({\r\n    'Content-Type': 'application/json',\r\n    'Accept': 'application/json',\r\n    'Authorization': `Bearer ${storedToken.accessToken}`\r\n  })\r\n\r\nexport function getList(){\r\n    if (storedToken.accessToken === \"undefined\" || storedToken.refreshToken === \"undefined\" || !storedToken.accessToken || !storedToken.refreshToken){\r\n        swal('Error', 'Session Expired, Please Log In', 'error')\r\n        .then(function(){window.location.href = \"/\"})\r\n        return([{error: \"session expired\"}])\r\n      }\r\n    else{\r\n        return fetch(`${env()}/todo`, {\r\n            method: \"GET\",\r\n            headers\r\n        })\r\n        .then(res => res.json())\r\n        .then((data) => {return data})\r\n        .catch(()=>{ \r\n            swal('Error', 'Session Expired, Please Log In', 'error')\r\n            .then(function(){window.location.href = \"/\"})\r\n            return([{error: \"session expired\"}])\r\n        })\r\n    }\r\n}\r\n\r\nexport function createTask(task: string){\r\n    // eslint-disable-next-line no-restricted-globals\r\n    if (!storedToken.accessToken && !storedToken.refreshToken){\r\n        swal('Error', 'Session Expired, Please Log In', 'error')\r\n        .then(function(){window.location.href = \"/\"})\r\n        return([{error: \"session expired\"}])\r\n    }\r\n    else if(!task || task === \"\"){\r\n        swal('Error', 'Do Not Leave Text Field Empty', 'error')\r\n    }\r\n    else{\r\n        return fetch(`${env()}/todo`, {\r\n            method: \"POST\",\r\n            headers,\r\n            body: JSON.stringify({\r\n                task,\r\n                status: false\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\nexport async function deleteTask(id: string){\r\n    return fetch(`${env()}/todo/${id}`, {\r\n        method: \"DELETE\",\r\n        headers\r\n    });\r\n}\r\n\r\n\r\nexport async function editTask(id: string, task: string, status: boolean){\r\n    if(!task || task === \"\"){\r\n        swal('Error', 'Do Not Leave Text Field Empty', 'error')\r\n        return \"field empty\"\r\n    }\r\n    else{\r\n        return fetch(`${env()}/todo/${id}`, {\r\n            method: \"PATCH\",\r\n            headers,\r\n            body: JSON.stringify({\r\n                task,\r\n                status\r\n            })\r\n        })\r\n        .then(res=>{return res})\r\n    }\r\n}\r\n\r\nexport async function refreshAccessTokens(email: string | null){\r\n    return fetch(`${env()}/newAccessToken`, {\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n            email\r\n        }),\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Accept\": \"application/json\",\r\n            \"Authorization\": `Bearer ${storedToken.refreshToken}`,\r\n        },\r\n    })\r\n    .then((res)=>{return res.json()})\r\n    .then((data)=>{//handle refresh\r\n        if(data.accessToken === \"undefined\" || data.message === \"invalid token\"){\r\n            localStorage.setItem(\"refreshToken\", \"undefined\")\r\n            localStorage.setItem(\"accessToken\", \"undefined\")\r\n            localStorage.setItem(\"email\", \"undefined\")\r\n            swal('Error', 'Session Expired, Please Log In', 'error')\r\n            .then(function(){window.location.href = \"/\"})\r\n        }\r\n        else{\r\n            localStorage.setItem(\"accessToken\", data.accessToken)}\r\n        }\r\n    )\r\n}","import swal from \"sweetalert\";\r\nimport { env } from \"../config/env\";\r\n\r\nexport function createNewUser(email: string, password: string){\r\n    fetch(`${env()}/users/signup`,{\r\n        method: \"POST\",\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            email,\r\n            password\r\n        }),\r\n    })\r\n    .then((res) => res.json())\r\n    .then((data: any)=>{\r\n        if(data.message === \"a user with this email already exists\"){\r\n            swal(\"Error\", \"A user with this email already Exists\", 'error')\r\n        }\r\n        else{\r\n            swal({title: \"Success\", text: \"Successfully Signed Up! Logging In...\", icon: \"success\", timer: 1500, buttons:[\"\"]})\r\n            .then(()=>{loginUser(email, password)})\r\n        }\r\n    })\r\n}\r\n\r\nexport async function loginUser(email: string, password: string){\r\n    await fetch(`${env()}/users/login`,{\r\n        method: \"POST\",\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            email,\r\n            password\r\n        }),\r\n    })\r\n    .then((res) => res.json())\r\n    .then((data: any)=>{\r\n        console.log(data)\r\n        if(data.message === \"user does not exist\"){\r\n            swal('Error', \"A User With This Email Does Not Exist\", 'error')\r\n        }\r\n        else if(data.message === \"incorrect email or password\"){\r\n            swal('Error', \"Incorrect Email or Password\", 'error')\r\n        }\r\n        else{\r\n            localStorage.setItem(\"email\", email)\r\n            localStorage.setItem(\"accessToken\", data.accessToken)\r\n            localStorage.setItem(\"refreshToken\", data.refreshToken)\r\n            window.location.href = \"/list\"\r\n        }\r\n    })\r\n    \r\n}\r\n\r\nexport function logOutUser(){\r\n    localStorage.setItem(\"accessToken\", \"undefined\")\r\n    localStorage.setItem(\"refreshToken\", \"undefined\")\r\n    localStorage.setItem(\"email\", \"undefined\")\r\n    window.location.href = \"/\"\r\n}","import { useEffect } from \"react\"\r\nimport { useState } from \"react\"\r\nimport { Modal } from \"react-bootstrap\"\r\nimport swal from \"sweetalert\"\r\n\r\nfunction Editor(props: any){\r\n    let [displayItemStatus, updateStatusDisplay] = useState(\"\")\r\n    let [taskEdit, setTaskEdit] = useState(\"\")\r\n    let createdAt = new Date(props.createdAt).toLocaleString('en-US', { month: 'long', weekday: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric', second: 'numeric', year: \"numeric\", hour12: true })\r\n    let updatedAt = new Date(props.updatedAt).toLocaleString('en-US', { month: 'long', weekday: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric', second: 'numeric', year: \"numeric\", hour12: true })\r\n\r\n    //sets the value of the input field to be the same as the task AND editable\r\n    //also displays text that shows whether the task is complete or not\r\n    useEffect(()=>{\r\n        setTaskEdit(props.task)\r\n        if(props.itemStatus === false){\r\n            updateStatusDisplay(\"Status: Incomplete\")\r\n        }\r\n        else if(props.itemStatus === true){\r\n            updateStatusDisplay(\"Status: Complete\")\r\n        }\r\n    }, [props.itemStatus, props.task])\r\n\r\n\r\n    //sets the value of task edit the same as the value of the input(editTask)\r\n    function handleChange(event: any){\r\n        setTaskEdit(event.target.value)\r\n    }\r\n\r\n    //confirms the edit and closed the modal when confirm is pressed\r\n    function handleClick(event: any){\r\n        if(event.target.className === \"confirmEdit\"){\r\n            if(taskEdit === props.task){\r\n                swal(\"Error\", \"You Did Not Make Any Changes To The Item\", \"info\")\r\n            }\r\n            else{\r\n                confirmEdit()\r\n                props.handleClose()\r\n            }\r\n        }\r\n        else if(event.target.className === \"cancelEdit\"){\r\n            setTaskEdit(props.task)\r\n            props.handleClose()\r\n        }\r\n    }\r\n\r\n    async function confirmEdit(){\r\n        if (!props.itemId || props.itemId === \"\") {\r\n            swal(\"Error\", \"Error Editing Task\", \"error\");\r\n            props.handleClose()\r\n        }\r\n        else {\r\n            const edit = await props.editTask(props.itemId, taskEdit, false)\r\n            if(edit === \"field empty\"){\r\n                setTaskEdit(props.task)\r\n                props.handleClose()\r\n            }\r\n            else{\r\n                const result = await props.getList()\r\n                props.setData(result)\r\n            }\r\n        }\r\n    }\r\n\r\n    return(\r\n        <Modal show={props.modalShow} onHide={props.handleClose} backdrop=\"static\" keyboard={false}>\r\n            <div className=\"modalContainer\">\r\n                <div className=\"editorTextItems\">\r\n                    <p className=\"createdAtText\">Created: {createdAt}</p>\r\n                    <p className=\"updatedAtText\">Updated: {updatedAt}</p>\r\n                    <p className=\"updateStatus\">{displayItemStatus}</p>\r\n                    <input className=\"editTask\" value={taskEdit} onChange={handleChange} onKeyDown={props.enter} type=\"text\"/>\r\n                </div>\r\n                <hr />\r\n                <div className=\"editorButtons\">\r\n                    <button className=\"cancelEdit\" onClick={handleClick}>Cancel</button> \r\n                    <button className=\"confirmEdit\" onClick={handleClick}>Confirm</button> \r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default Editor","import { useState } from \"react\";\r\nimport { editTask } from \"../services/todo.service\";\r\nimport Editor from \"./Editor\"\r\n\r\n\r\nfunction ListItem(props: any){\r\n\r\n    //Editor Modal Hooks\r\n    const [show, setShow] = useState(false);\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n\r\n    return(\r\n        <li>\r\n            {/* editor component */}\r\n            <Editor \r\n                getList={props.getList}\r\n                setData={props.setData}\r\n                itemId={props.itemId}\r\n                createdAt={props.createdAt} \r\n                updatedAt={props.updatedAt} \r\n                itemStatus={props.status} \r\n                task={props.task}\r\n                modalShow={show} \r\n                handleClose={handleClose} \r\n                editTask={editTask}\r\n                enter={props.enter}\r\n            />\r\n\r\n            {/* default ui */}\r\n            <div className=\"taskList\">\r\n                <input type=\"checkbox\" className=\"taskStatus\" \r\n                    checked={props.status} \r\n                    onChange={(event)=>{props.editTaskStatus(props.itemId, event)}} \r\n                />\r\n                <button className=\"deleteBtn\" onClick={()=>{props.deleteBtnClick(props.itemId)}}><i className=\"fas fa-trash-alt fa-2x\"></i></button>\r\n                <button className=\"editBtn\" onClick={handleShow}><i className=\"fas fa-edit fa-2x\"></i></button>\r\n                <p className=\"taskItem\" style={props.status === true ? {textDecoration: \"line-through\", color: \"gray\"} : {textDecoration: \"none\"}}>{props.task}</p>\r\n                <hr />\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default ListItem","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { createTask, deleteTask, editTask, getList, refreshAccessTokens } from \"../services/todo.service\";\r\nimport { logOutUser } from \"../services/users.service\";\r\nimport ListItem from \"./ListItem\";\r\nimport swal from \"sweetalert\";\r\n\r\nfunction List(){\r\n   let [listData, setData] = useState<any>([]);\r\n   const [inputValue, setValue] = useState(\"\");\r\n   const userEmail = localStorage.getItem(\"email\")\r\n\r\n   //Loads database array when page loads\r\n   useEffect(()=>{\r\n      const getListData = async ()=>{\r\n         setData(await getList())\r\n      }\r\n      getListData()\r\n      setInterval(()=>{refreshAccessTokens(userEmail)}, 5000)\r\n   }, [userEmail])\r\n\r\n   //sets value of input to use when creating task/ emptying input\r\n   function handleChange(event: any){\r\n      setValue(event.target.value)\r\n   }\r\n\r\n   //creates a task by sending input value to service function\r\n   async function createTaskItem(){\r\n      if(!inputValue || inputValue === \"\" || inputValue === \" \"){\r\n         swal(\"Error\", \"Please enter a task\", \"error\");\r\n      }\r\n      else{\r\n         await createTask(inputValue)\r\n         const result = await getList();\r\n         setData(result)\r\n         setValue(\"\")\r\n      }\r\n   }\r\n\r\n   //deletes task using its unique id and sending it to the service function\r\n   async function deleteTaskItem(id: string){\r\n      if(!id || id === \"\"){\r\n         swal(\"Error\", \"Please select a task to delete\", \"error\");\r\n      }\r\n      else{\r\n        await deleteTask(id)\r\n         const result = await getList()\r\n         setData(result)\r\n      }\r\n   }\r\n\r\n   function enter(event: any){\r\n      if(event.keyCode === 13 && event.target.className === \"addTask\") { \r\n         let clickBtn = document.getElementsByClassName(\"addTaskBtn\")[0] as HTMLButtonElement\r\n         clickBtn.click()\r\n      }\r\n      else if(event.keyCode === 13 && event.target.className === \"editTask\") { \r\n         let clickBtn = document.getElementsByClassName(\"confirmEdit\")[0] as HTMLButtonElement\r\n         clickBtn.click()\r\n      }\r\n   }\r\n\r\n\r\n   //Iterates over array of items and finds item based on id, if found the status is updated only\r\n   async function editTaskStatus(id: string, event: any){\r\n      let editData = null\r\n      for(let i = 0; i < listData.length; i++){\r\n         const currentListData = listData[i]\r\n         if(currentListData._id === id){\r\n            editData = currentListData\r\n            break\r\n         }\r\n      }\r\n      if(!editData){\r\n         swal(\"Error\", \"Error Editing Task Status\", \"error\")\r\n      }\r\n      else{\r\n         await editTask(id, editData.task, event.target.checked)\r\n         const result = await getList()\r\n         setData(result)\r\n      }\r\n   }\r\n\r\n\r\n    return (\r\n        <div className=\"container\">\r\n         <button className=\"logOutButton\" onClick={logOutUser}>Log Out</button>\r\n            <div className=\"toDoListContainer\">\r\n               <h1 className=\"headerTitle\">To-Do List</h1>\r\n               <ul>\r\n                  <hr />\r\n                  {listData.map((listData: any) => {\r\n                     return <ListItem \r\n                           getList={getList}\r\n                           setData={setData}\r\n                           key={listData._id} \r\n                           itemId={listData._id} \r\n                           task={listData.task} \r\n                           status={listData.status} \r\n                           createdAt={listData.createdAt} \r\n                           updatedAt={listData.updatedAt} \r\n                           editTask={editTask}\r\n                           deleteBtnClick={deleteTaskItem} \r\n                           editTaskStatus={editTaskStatus} \r\n                           enter={enter}\r\n                     />;\r\n                  })}\r\n               </ul>\r\n               <div className=\"listFooter\">\r\n                     <input type=\"text\" value={inputValue} onKeyDown={enter} onChange={handleChange} className=\"addTask\" placeholder=\"Enter Task\"/>\r\n                     <button onClick={createTaskItem} className=\"addTaskBtn\">Add Task</button>\r\n                     <button onClick={createTaskItem} className=\"shortAddTaskBtn\">+</button>\r\n               </div>\r\n            </div>\r\n        </div>\r\n     );\r\n\r\n}\r\n\r\nexport default List","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport swal from \"sweetalert\";\r\nimport { createNewUser, loginUser } from \"../services/users.service\";\r\n\r\nfunction UserInputs(props: any){\r\n    //gets \r\n    const history = useHistory()\r\n\r\n    const [fieldInput, setCredentials] = useState({\r\n        //stores email and password onchange as the user types\r\n        email: \"\",\r\n        password: \"\"\r\n    })\r\n\r\n    function validateEmail(email: any) {\r\n        //email validation\r\n        const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return re.test(String(email).toLowerCase());\r\n      }\r\n\r\n    function handleChange(event: any){\r\n        const { value, className } = event.target\r\n\r\n        //hooks to set email and password in fieldInput array \r\n        setCredentials(prevValue =>{\r\n            return className === \"emailInput\" ? {email: value, password: prevValue.password} : {email: prevValue.email, password: value}\r\n        })\r\n    }\r\n\r\n    //function runs when user presses login or signup button, checks if input values are valid before logging user in or signing them up\r\n    function handleClick(){\r\n        //login inpout validation\r\n        if(history.location.pathname === \"/login\" || history.location.pathname === \"/\"){\r\n            if(!fieldInput.email || fieldInput.email === \"\" || !fieldInput.password || fieldInput.password === \"\" || !validateEmail(fieldInput.email)){\r\n                swal(\"Error\", \"Please enter a valid email and password\", \"error\");\r\n            }\r\n            else{\r\n                loginUser(fieldInput.email, fieldInput.password)\r\n            }\r\n        }\r\n\r\n        //signup input validation\r\n        else if(history.location.pathname === \"/signup\"){\r\n            if(!fieldInput.email || fieldInput.email === \"\" || !fieldInput.password || fieldInput.password === \"\" || !validateEmail(fieldInput.email)){\r\n                swal(\"Error\", \"Please enter a valid email and password\", \"error\");\r\n            }\r\n            else{\r\n                createNewUser(fieldInput.email, fieldInput.password)\r\n            }\r\n        }\r\n    }\r\n\r\n    function enter(event: any){\r\n        if(event.keyCode === 13) { \r\n           let clickBtn = document.getElementsByClassName(\"submitUser\")[0] as HTMLButtonElement\r\n           clickBtn.click()\r\n        }\r\n     }\r\n\r\n    return(\r\n        <div className=\"userRegistrationContainer\"> \r\n            <h1 className=\"regGreeting\">{props.greeting}</h1>\r\n            <input className=\"emailInput\" onChange={handleChange} onKeyDown={enter} type=\"text\" placeholder=\"Email\"/>\r\n            <input className=\"passwordInput\" onChange={handleChange} onKeyDown={enter} type=\"password\" placeholder=\"Password\"/>\r\n            <button className=\"submitUser\" onClick={handleClick}>{props.userCredentials}</button>\r\n            <p className=\"regFooter\">{props.accountStatus} <a className=\"regRedirectLink\" href={props.redirectLink}>{props.redirect}</a></p> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserInputs\r\n\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport UserInputs from \"./UserInputs\";\r\n\r\nfunction UserRegistration(){\r\n    const history = useHistory()\r\n\r\n    return(\r\n        <div className=\"userRegistrationContainer\">\r\n            {\r\n                history.location.pathname === \"/login\" || history.location.pathname === \"/\"\r\n                ? <UserInputs greeting=\"Welcome Back\" userCredentials=\"Login\" accountStatus=\"Don't Have An Account? \" redirect=\"Sign Up\" redirectLink=\"signup\" /> \r\n                : <UserInputs greeting = \"Welcome\" userCredentials=\"Sign Up\" accountStatus=\"Already Have An Account?\" redirect=\"Log In\" redirectLink=\"/login\" />\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserRegistration","import React from 'react';\r\nimport {BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport List from './List';\r\nimport UserRegistration from './UserRegistration';\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <Route path={[\"/\", \"/login\"]} component={UserRegistration} exact></Route>\r\n      <Route path=\"/signup\" component={UserRegistration}></Route>\r\n      <Route path=\"/list\" component={List}></Route>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}